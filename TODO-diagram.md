* undo/redo: change editor mode if necessary
